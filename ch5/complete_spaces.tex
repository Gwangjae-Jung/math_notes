\section{Complete metric spaces}

\subsection{Complete metric spaces and uniform metrics}

\begin{defi}[Complete metric space]
    Let $(X, d)$ be a metric space.
    A sequence $(x_n)_{n\in\bb{N}}$ of points in $X$ is called a Cauchy sequence if the following condition is satisfied: For any positive real number $\epsilon$, there is a positive integer $N$ such that $n, m\geq N$ implies $d(x_n, x_m)<\epsilon$.
    The metric space $(X, d)$ is called a complete metric space if every Cauchy sequence in $X$ is convergent.
\end{defi}
\begin{rmk}
    The completeness of a metric space is a metric property, rather than a topological property.
    Hence, the completeness may not be preserved under homeomorphisms.
\end{rmk}

Some basic properties regarding the completeness of metric spaces are given as follows.
Proving them is left as an exercise.
See \cref{completeness_basic_sol}.
\begin{prop}\label{completeness_basic}
    Let $(X, d)$ and $(X_n, d_n)$ be complete metric spaces for $n\in\bb{N}$.
    \begin{enumerate}
        \item[(a)]
        {
            (Reduction of criterion)
            $X$ is complete if and only if every Cauchy sequence in $X$ has a convergent subsequence.
        }
        \item[(b)]
        {
            (Completeness and closedness)
            Let $Y$ be any nonempty subset of $X$ and let $e=d|_{Y\times Y}$.
            Then $(Y, e)$ is complete if and only if $Y$ is closed in $X$.
        }
        \item[(c)]
        {
            (Completeness and countable products)
            The product space $Z=\prod_{n\in\bb{N}} X_n$ is complete under the metric $D: Z\times Z\rightarrow [0, \infty)$, which is defined by
            \begin{align*}
                D(x, y)=\sup_{n\in\bb{N}}\left\{\frac{1}{n}\ol{d_n}(x_n, y_n)\right\}
                \quad
                (x, y\in Z),
            \end{align*}
            where $\ol{d_n}$ is the standard bounded metric induced by $d_n$ for each $n\in\bb{N}$.
            In fact, defining a metric $\kappa: Z\times Z\rightarrow [0, \infty)$ by $\kappa(x, y)=\sum_{n\in\bb{N}} {2^{-n} \ol{d_n}(x_n, y_n)}$ for all $x, y\in Z$, $Z$ is also complete under $\kappa$.
        }
    \end{enumerate}
\end{prop}

Let $(X, d)$ be a metric space (not necessarily being complete) and $I$ be a nonempty index set.
In \cref{uniform topology}, we have defined the uniform metric $\ol\rho$ on $X^I$ correspoinding to $d$, which is defined by $\ol\rho(f, g)=\sup\left\{\ol{d}(f(a), g(a)): a\in I\right\}$.
Remark that the metric topology induced by the uniform metric is finer than the product topology and coarser than the box topology.

In (c) of \cref{completeness_basic}, the completeness of the product of complete metric spaces is ensured only for countable products.
The following theorem ensures the completeness for uncountable products, when the the uniform topology is considered.
\begin{thm}
    Let $X$ be a nonempty set.
    If $(Y, d)$ is a complete metric space, then $(Y^X, \ol\rho)$ is complete.
\end{thm}
\begin{proof}
    Let $(f_n)_{n\in\bb{N}}$ be a Cauchy sequence in $Y^X$.
    Because $\ol\rho(f_n, f_m)\rightarrow 0$ as $n, m\rightarrow\infty$, for each $x\in X$, $(f_n(x))_n$ is a Cauchy sequence in $Y$.
    Hence, $(f_n)_{n\in\bb{N}}$ is pointwise convergent.
    We now prove that $(f_n)_{n\in\bb{N}}$ is uniformly convergent.
    Let $N$ be an integer such that $n, m\geq N$ implies $\ol\rho(f_n, f_m)<\epsilon/2$; given $x\in X$, let $p$ be an integer such that $p\geq N$ and $d(f_p(x), f(x))<\epsilon/2$.
    Then,
    \begin{align*}
        d(f_n(x), f(x))\leq d(f_n(x), f_p(x))+d(f_p(x), f(x))<\epsilon/2+\epsilon/2=\epsilon,
    \end{align*}
    so $\ol\rho(f_n, f)\leq\epsilon$.
    Therefore, $f_n\rightarrow f$ uniformly.
\end{proof}

\begin{thm}[Complete spaces of functions]\label{Complete spaces of functions}
    Let $X$ be a topological space, $(Y, d)$ be a complete metric space, and assume that $Y^X$ equips the uniform metric $\ol\rho$ corresponding to $d$.
    \begin{enumerate}
        \item[(a)]
        {
            $C(X, Y)$ and $B(X, Y)$ are closed subspaces of $Y^X$.
        }
        \item[(b)]
        {
            Hence, if $Y$ is complete, then $C(X, Y)$ and $B(X, Y)$ are complete.
        }
    \end{enumerate}
\end{thm}
\begin{proof}
    Because part (b) follows directly from part (a), it suffices to prove part (a).
    Assume first that $f\in Y^X$ is a limit point of $C(X, Y)$.
    Then, there is a sequence $(f_n)_{n\in\bb{N}}$ of continuous functions from $X$ into $Y$, which converges to $f$ uniformly.
    Because the convergence is uniform, $f$ is necessarily continuous.
    The proof for $B(X, Y)$ is also easy, which is left as an exercise.
\end{proof}

For example, when $X$ is compact, we may impose the supremum(sup) metric
\begin{align*}
    \norm{\cdot}: C(X, Y)\times C(X, Y)\rightarrow[0, \infty),
    \quad
    (f, g)\mapsto\sup\left\{d(f(x), g(x)): x\in X\right\}
\end{align*}
on $C(X, Y)$, and such imposition is general.

\subsection{Isometric embedding of a metric space}

Recall that a map $h$ from a metric space $(X, d_X)$ into $(Y, d_Y)$ satisfying $d_Y(h(a), h(b))=d_X(a, b)$ for all $a, b\in X$ is called an isometry (or an isometric embedding) of $X$ into $Y$.
If $h: X\rightarrow Y$ is an isometric embedding and $Y$ is complete, the closure of $h(X)$ in $Y$ is also a complete metric space, and we call this space the completion of $X$.

When trying to define objects, one should be interested in their existence, uniqueness, and exactness.

\begin{thm}[Existence of a completion of a metric space]\label{existence of a completion}
    Let $(X, d)$ is a metric space, and consider the map $\phi: X\rightarrow B(X, \bb{R})$ defined by
    \begin{align*}
        \phi(x)=l_x\textsf{ for }x\in X,
    \end{align*}
    where $l_x: X\rightarrow\bb{R}$ maps $t\in X$ to $d(t, x)-d(t, a)$ (here, $a$ is a given point of $X$, so $|l_x(t)|\leq d(x, a)$ for all $t\in X$).
    Then $\phi$ denotes an isometric embedding of $X$ into $B(X, \bb{R})$.
    Because $\bb{R}$ is complete, the closure of $\phi(X)$ in $B(X, \bb{R})$ is complete, i.e., every metric space has a completion.
\end{thm}
\begin{thm}[Uniqueness of a completion of a metric space]\label{uniqueness of a completion}
    Let $h_1: X\hookrightarrow Y_1$ and $h_2: X\hookrightarrow Y_2$ be isometric embeddings of $X$ into complete metric spaces $(Y_1, d_1)$ and $(Y_2, d_2)$.
    Denote the closure of $h_i(X)$ in $Y_i$ by $\ol{h_i(X)}$ ($i=1, 2$).
    Then, there is an isometry $H: \ol{h_1(X)}\rightarrow \ol{h_2(X)}$ which equals $h_2\circ h_1^{-1}$ on $h_1(X)$.\footnote{By an isometry we mean an isometric homeomorphism.}
    Hence, the completion of $X$ is unique up to an isometry.
    \begin{equation*}
    \begin{tikzcd}[row sep=large, column sep=huge]
        h_1(X)\arrow[d, hook]
        \arrow[rr, bend left, "h_2\circ h_1^{-1}", "\textsf{isometry}"']
        &
        X
        \arrow[l, "\textsf{isometry}", "h_1"']
        \arrow[r, "h_2", "\textsf{isometry}"']
        &
        h_2(X)\arrow[d, hook]
        \\
        \ol{h_1(X)}
        \arrow[d, hook]
        \arrow[rr, "H", "\textsf{isometry}"']
        &&
        \ol{h_2(X)}
        \arrow[d, hook]
        \\
        Y_1 && Y_2
    \end{tikzcd}
    \end{equation*}
\end{thm}
\begin{proof}[Proof of \cref{existence of a completion}]
    Since it is checked that $l_x\in B(X, \bb{R})$, the map $\phi$ is well defined.
    Thus, it remains to check that $\phi$ is an isometric embedding of $X$ into $B(X, \bb{R})$.
    For this, it suffices to show that $\ol\rho(l_x, l_y)=d(x, y)$ for all $x, y\in X$, where $\ol\rho$ is the uniform metric on $B(X, \bb{R})$.
    Observing that $l_x(t)-l_y(t)=d(t, x)-d(t, y)$, we can find that $\ol\rho(l_x, l_y)\leq d(x, y)$ and $l_x(x)-l_y(x)=-d(x, y)$, proving that $\ol\rho(l_x, l_y)=d(x, y)$.
\end{proof}
\begin{proof}[Proof of \cref{uniqueness of a completion}]
    One should remark that $\ol{h_i(X)}$ is a complete metric space ($i=1, 2$).
    Define a map $H: \ol{h_1(X)}\rightarrow\ol{h_2(X)}$ as follows:
    \begin{enumerate}
        \item[(1)]
        {
            When $x\in h_1(X)$, let $H(x):=h_2(h_1^{-1}(x))$.
            Since $h_1$ is a bijection between $X$ and $h_1(X)$, the above setting is not ambiguous.
        }
        \item[(2)]
        {
            When $x\in \ol{h_1(X)}\setminus h_1(X)$, set a sequence of points $(x_n)_{n\in\bb{N}}$ in $h_1(X)$, converging to $x$ (note that $x$ is in a closure) and let $H(x):=\lim H(x_n)$.

            This setting seems to be ambiguous, because the resulting $H(x)$ might differ by the choice of $(x_n)_n$ (also, even the existence of the limit could be inquired).
            \begin{itemize}
                \item
                {
                    As for the existence of the limit, note that $d_2(Hx_n, Hx_m)=d_1(x_n, x_m)$ so that the sequence $(Hx_n)_n$ is a Cauchy sequence in $\ol{h_2(X)}$.
                }
                \item
                {
                    As for the unambiguity, suppose $(a_j)_{j\in\bb{N}}$ is another sequence in $h_1(X)$ converging to $x$.
                    Letting $X=\lim H(x_n)$ and $A=\lim H(a_j)$, we find that
                    \begin{eqnarray*}
                        d_2(X, A)&\leq&d_2(X, H(x_n))+d_2(H(x_n), H(a_j))+d_2(H(a_j), A)\\
                        &\leq&d_2(X, H(x_n))+d_1(x_n, a_j)+d_2(H(a_j), A)\xrightarrow{n, j\rightarrow\infty}0,
                    \end{eqnarray*}
                    so $X=A$ and the above setting of $H(x)$ is not ambiguous.
                }
            \end{itemize}
        }
    \end{enumerate}
    We just established a map $H$ from $\ol{h_1(X)}$ into $\ol{h_2(X)}$.
    It remains to show that $H$ is an isometry.
    For this, it suffices to show that $H$ is bijective and isometric, and $H$ coincides $h_2\circ h_1^{-1}$ on $h_1(X)$.
    \begin{enumerate}
        \item[(a)]
        {
            Given $a, b\in\ol{h_1(X)}$, let $(a_n)_n$ and $(b_n)_n$ be seqences in $h_1(X)$ converging to $a$ and $b$, respectively.
            Because $d_2(Ha, Hb)\leq d_2(Ha, Ha_n)+d_2(Ha_n, Hb_n)+d_2(Hb_n, Hb)$ and $d_2(Ha_n, Hb_n)\leq d_2(Ha_n, Ha)+d_2(Ha, Hb)+d_2(Hb, Hb_n)$, we have $\lim d_2(Ha_n, Hb_n)=d_2(Ha, Hb)$.
            Therefore, $d_2(Ha, Hb)=\lim d_2(Ha_n, Hb_n)=\lim d_1(a_n, b_n)=d_1(a, b)$.
            This implies that $H$ is isometric and injective.
            The surjectivity is easily checked. (How?)
        }
        \item[(b)]
        {
            Clearly, $H$ extends $h_2\circ h_1^{-1}$.
        }
    \end{enumerate}
    Therefore, there is an isometry between two completions of $X$.
    In other words, there is a unique completion of a metric space up to an isometry.
\end{proof}

\subsection{Problems}

\begin{prob}\label{completeness_basic_sol}
    Prove \cref{completeness_basic}.
\end{prob}
\begin{sol}
    \begin{enumerate}
        \item[(a)]
        {
            Easy.
        }
        \item[(b)]
        {
            If $Y$ is a nonempty closed supset of $X$ and $(y_n)_{n\in\bb{N}}$ is a Cauchy sequence in $Y$, then it converges, due to the completeness of $X$; and the limit belongs to $Y$, due to the closedness of $Y$ in $X$, which implies the completeness of $Y$.
            Conversely, if $(Y, e)$ is complete and $y$ is a limit point of $Y$ in $X$, then for each $n\in\bb{N}$, there is a point $y_n\in B_d(y, 1/n)$; since the sequence $(y_n)_{n\in\bb{N}}$ converges to $y$ and $Y$ is complete, $y\in Y$, so $Y$ is closed in $X$.
        }
        \item[(c)]
        {
            Remark that $D$ and $\rho$ induces the product topology on $Z$.
            If $(z_n)_{n\in\bb{N}}$ is a Cauchy sequence in $Z$, it easily follows from the definition of $D$ or $\rho$ that $(\pi_k(z_n))_{n\in\bb{N}}$ is a Cauchy sequence in $X_k$ for each $k\in\bb{N}$.
            Since each $X_k$ is a complete metric space, each sequence $(\pi_k(z_n))_{n\in\bb{N}}$ in $X_k$ is convergent, hence the sequence $(z_n)_{n\in\bb{N}}$ is convergent in $Z$.
        }
    \end{enumerate}
\end{sol}